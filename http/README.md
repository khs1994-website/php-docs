---
title: HTTP 协议
date: 2013-02-01 13:00:00
updated:
comments: true
tags:
- HTTP
categories:
- HTTP
---

`HTTP` 属于应用层协议，在传输层使用 `TCP` 协议，在网络层使用 `IP` 协议。

* 无状态：无状态是指协议对于事务处理没有记忆能力。

* 无连接：限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。

* 面向连接

<!--more-->

# 请求、响应消息组成 四部分

* 请求行（状态行）`HTTP 协议版本号 状态码 状态消息`

* 请求头部（消息报头）

* 空行

* 请求数据（响应正文）

```bash
HTTP/1.1 200 OK
Date: Fri, 22 May 2018 06:07:08 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive

请求数据（相应正文）
```

# url

协议 域名 端口 虚拟目录 文件名 锚（#XXX）参数（?xxx=xxx）

# 方法

* `get` `post` `head`

* `delete`

* `put` `patch`

* `options`

# 状态码

# 地址栏键入网址回车之后的过程

* 1. DNS 网址->IP

* 2. 通过 `IP + 端口` 和服务器建立 TCP 连接

* 3. 浏览器发出读取文件的 HTTP 请求，该请求报文作为 TCP 三次握手的第三个报文的数据发送给服务器

* 4. 服务器做出响应，把相应的 html 文件发给浏览器

* 5. 释放 TCP 连接

* 6. 浏览器解析 HTML，显示内容。

# IP

IP 协议主要解决网络路由和寻址问题。

# TCP 三次握手与四次挥手 控制传输协议

TCP 协议主要解决如何在 IP 层之上可靠地传递数据包，使得网络上接收端收到发送端所发出的所有包，并且顺序与发送顺序一致。

* 可靠的

* 面向连接的

# UDP 用户数据报协议

# 长连接 短链接

* HTTP/1.0 中默认使用短连接。每遇到这样一个 Web 资源，浏览器就会重新建立一个 HTTP 会话

* HTTP/1.1 起，默认使用长连接，用以保持连接特性。Keep-Alive 不会永久保持连接，它有一个保持时间，在 WEB 服务器中进行设定。
